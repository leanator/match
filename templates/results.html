{% extends "base.html" %}

{% block content %}
  <div class="container mt-5">
    <h2>Coincidencias entre los usuarios</h2>

    <!-- Sección de coincidencias plenas -->
    <div class="text-success">
      <h4>Coincidencias Plenas: {{ coincidencias_plenas | length }}</h4>
      <button class="btn btn-success" data-toggle="modal" data-target="#modalCoincidenciasPlenas">Ver preguntas</button>
    </div>

    <!-- Modal de Coincidencias Plenas -->
    <div class="modal fade" id="modalCoincidenciasPlenas" tabindex="-1" role="dialog" aria-labelledby="modalCoincidenciasPlenasLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalCoincidenciasPlenasLabel">Preguntas con Coincidencias Plenas</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <ul>
              {% for pregunta in coincidencias_plenas %}
                <li>{{ pregunta }}</li>
              {% endfor %}
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Sección de coincidencias parciales -->
    <div class="text-warning">
      <h4>Coincidencias Parciales: {{ coincidencias_parciales | length }}</h4>
      <button class="btn btn-warning" data-toggle="modal" data-target="#modalCoincidenciasParciales">Ver preguntas</button>
    </div>

    <!-- Modal de Coincidencias Parciales -->
    <div class="modal fade" id="modalCoincidenciasParciales" tabindex="-1" role="dialog" aria-labelledby="modalCoincidenciasParcialesLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalCoincidenciasParcialesLabel">Preguntas con Coincidencias Parciales</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <ul>
              {% for pregunta in coincidencias_parciales %}
                <li>{{ pregunta }}</li>
              {% endfor %}
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Sección de no coincidencias -->
    <div class="text-danger">
      <h4>No Coincidencias: {{ no_coincidencias | length }}</h4>
      <button class="btn btn-danger" data-toggle="modal" data-target="#modalNoCoincidencias">Ver preguntas</button>
    </div>

    <!-- Modal de No Coincidencias -->
    <div class="modal fade" id="modalNoCoincidencias" tabindex="-1" role="dialog" aria-labelledby="modalNoCoincidenciasLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalNoCoincidenciasLabel">Preguntas sin Coincidencias</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <ul>
              {% for pregunta in no_coincidencias %}
                <li>{{ pregunta }}</li>
              {% endfor %}
            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Botones para volver -->
    <div class="mt-3">
      <a href="/questions" class="btn btn-primary">Volver a las preguntas</a>
      <a href="/find_partner" class="btn btn-secondary">Volver a configurar pareja</a>
    </div>
  </div>
{% endblock %}
